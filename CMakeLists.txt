cmake_minimum_required(VERSION 3.27)
project(rce LANGUAGES C CXX)

set(CMAKE_CXX_STANDARD 20)
set(CMAKE_CXX_STANDARD_REQUIRED ON)
set(CMAKE_CXX_EXTENSIONS OFF)

include(FetchContent)

FetchContent_Declare(
        raylib
        GIT_REPOSITORY https://github.com/raysan5/raylib.git
        GIT_TAG master
)

FetchContent_MakeAvailable(raylib)

add_executable(rce
        main.cpp
        include/rce/object.cpp
        include/rce/object.h
        include/rce/object_components/object_component.h
        include/rce/object_components/hitbox_component.cpp
        include/rce/object_components/hitbox_component.h
        include/rce/object_components/all.h
        include/rce/scenes/scene.h
        include/rce/scenes/examples/example_scene.cpp
        include/rce/scenes/examples/example_scene.h
        include/rce/scenes/scene.cpp
        include/rce/object_components/children_component.h
        include/rce/object_components/children_component.cpp
        include/rce/object_components/find_object_component.h
        include/rce/object_components/find_object_component.cpp
        include/rce/systems/system.h
        include/rce/object_components/object_component.cpp
        include/rce/systems/system.cpp
)

target_include_directories(rce PRIVATE include)

target_link_libraries(rce PRIVATE raylib)

if (DEBUG)
    set_target_properties(rce PROPERTIES WIN32_EXECUTABLE FALSE)
else()
    set_target_properties(rce PROPERTIES WIN32_EXECUTABLE TRUE)
endif()
